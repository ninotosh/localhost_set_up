- set_fact:
    zshrc: "{{ansible_env.HOME}}/.zshrc"
- stat: path="{{zshrc}}"
  register: zshrc_stat
- name: create "{{zshrc}}"
  file: path="{{zshrc}}" state=touch
  when: not zshrc_stat.stat.exists

- blockinfile: >-
    block="{{lookup('file', 'extra.j2')}}"
    dest="{{zshrc}}"
    marker="# {mark} text autogenerated by extra.j2"
